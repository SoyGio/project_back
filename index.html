<!DOCTYPE html>
<html>
<head>
  <title>Consumir servicio</title>
</head>
<body>
<label>Id:</label><input type="text" id="id"><br>
<input type="button" name="obtener" value="Obtener Data" onclick="getData();">
<br>
<br>
<label>Nombre:</label><input type="text" id="nombre"><br>
<label>Direcci√≥n:</label><input type="text" id="direccion"><br>
<div id="response"></div>
<input type="button" name="obtener" value="Obtener Lista" onclick="getList();">
<br>

</body>
<script>
  function getData(){
    var id = document.getElementById("id").value;
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (this.status == 200) {
          var data = JSON.parse(this.responseText);
          document.getElementById("nombre").value = data.params.nombre;
          document.getElementById("direccion").value = data.params.direccion;
        }
    };
    var url = "http://localhost:4000/clients/info?id=" + id;
    xhttp.open("GET", url, true);
    xhttp.send();
  }
  function getList(){
    var xhttp = new XMLHttpRequest();
    var url = "http://localhost:4000/clients/V00/clients";
    xhttp.open("GET", url, false);
    xhttp.send();
    if (xhttp.status == 200) {
      data = JSON.parse(xhttp.responseText);
      document.getElementById("response").innerHTML = xhttp.responseText;
      for (var i=0; i<data.length; i++){
        console.log(data[i].nombre);
      }
      document.getElementById("nombre").value = data[1].nombre;
      document.getElementById("direccion").value = data[1].puesto;
    }

  }
</script>
</html>